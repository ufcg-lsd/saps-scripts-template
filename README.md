# SAPS development tutorial
This tutorial explains how to develop new algorithms for the Sebal Automated Processing Service (SAPS). The SAPS calculates evapotranspiration in a pipeline with three phases: 1) **Input Download**; 2) **Preprocessing**; and 3) **Processing**. 

In the first phase, **Input Download**, the Landsat satellite imagery is downloaded to the SAPS processing infrastucture. Any other data, including metereological information, used in the next steps, are downloaded by the algorithms implemented in this first phase.

In the second phase, **Preprocessing**, the dataset downloaded in the first phase can be treated before the processing phase. Typical treatment includes checking if the data is adequate to the next phase (e.g not completly covered by clouds and shadows) or any data transformation.

Finally, in the **Processing** phase the evapotranspiration is calculated based on the data generated by the previous phases.

New algorithms can be added to any of these phases. SAPS does not restrict any internal design aspecect of the implementation of these algorithms, including the adopted programming language. New proposed algorithm must address two simple requirements: 1) be able to be packaged as a Docker image; and 2) to be called by a bash script, with specifies the allowed arguments by the SAPS execution pipeline. In addition to these requirements, any new implementation should respect a contract on where to find data generated by previous step as well ass where to store the generated output as to make it available to the next steps.

# Model
Currently, SAPS follows the following model:
- Each step (download, preprocessing and process) in different repository
- Each branch in the repositories refers to the different forms/versions of the solution
- The branch name must be significant, probably the name that will be used in the SAPS GUI (for easy understanding).

# SAPS repositories
Below are the repositories of each of the steps:
- [Inputdownload](https://github.com/ufcg-lsd/saps-scripts-inputdownload)
- [Preprocessing](https://github.com/ufcg-lsd/saps-scripts-preprocessing)
- [Processing](https://github.com/ufcg-lsd/saps-scripts-processing)
